(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}})();const Oi="mm",Bi=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]],Ye=Bi.reduce((t,n)=>{const e={units:n[3]||Oi,dimensions:[n[1],n[2]]};return t[n[0]]=e,t},{});function Ci(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oe={exports:{}},Zi=function(){for(var n=0;n<arguments.length;n++)if(typeof arguments[n]<"u")return arguments[n]},Fi=Zi,vt=["mm","cm","m","pc","pt","in","ft","px"],Ke={m:{system:"metric",factor:1},cm:{system:"metric",factor:1/100},mm:{system:"metric",factor:1/1e3},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const $i={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};function Mi(t,n){return+(Math.round(t+"e"+n)+"e-"+n)}function Hi(t,n,e,i){if(typeof t!="number"||!isFinite(t))throw new Error("Value must be a finite number");if(!n||!e)throw new Error("Must specify from and to units");i=i||{};var a=Fi(i.pixelsPerInch,96),r=i.precision,s=i.roundPixel!==!1;if(n=n.toLowerCase(),e=e.toLowerCase(),vt.indexOf(n)===-1)throw new Error('Invalid from unit "'+n+'", must be one of: '+vt.join(", "));if(vt.indexOf(e)===-1)throw new Error('Invalid from unit "'+e+'", must be one of: '+vt.join(", "));if(n===e)return t;var l=1,c=1,o=!1;n==="px"&&(c=1/a,n="in"),e==="px"&&(o=!0,l=a,e="in");var f=Ke[n],w=Ke[e],d=t*f.factor*c;f.system!==w.system&&(d*=$i[f.system].ratio);var h=d/w.factor*l;return o&&s?h=Math.round(h):typeof r=="number"&&isFinite(r)&&(h=Mi(h,r)),h}Oe.exports=Hi;Oe.exports.units=vt;var Pi=Oe.exports;const je=Ci(Pi);function Gi(t={}){Array.isArray(t)&&(t={dimensions:t});let n=t.dimensions;if(!n)throw new Error("Must specify { dimensions }");const e=t.units||"px";if(typeof n=="string"){const f=n.toLowerCase();if(!(f in Ye))throw new Error(`No paper size by the key "${n}"`);const w=Ye[f];n=w.dimensions.map(d=>w.units===e?d:je(d,w.units,e))}if(!Array.isArray(n))throw new Error("expected array or string for { dimensions }");if(n=n.slice(),n.length!==2)throw new Error("Expected two dimensional { dimensions }");const i=n[0]>n[1]?"landscape":"portrait";if(t.orientation){const f=t.orientation.toLowerCase();if(!["landscape","portrait"].includes(f))throw new Error('Expected orientation to be "landscape" or "portrait"');f!==i&&n.reverse()}const a=t.pixelsPerInch||72;let[r,s]=n.map(f=>e==="px"?f:je(f,e,"px",{roundPixel:!0,pixelsPerInch:a}));const[l,c]=n,o=t.pixelRatio??1;return r*=o,s*=o,{width:l,height:c,units:e,canvasWidth:r,canvasHeight:s,pixelsPerInch:a,pixelRatio:o}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Wi=4,Xe=0,Ve=1,Yi=2;function pt(t){let n=t.length;for(;--n>=0;)t[n]=0}const Ki=0,Hn=1,ji=2,Xi=3,Vi=258,Be=29,Mt=256,Lt=Mt+1+Be,ut=30,Ce=19,Pn=2*Lt+1,rt=15,se=16,qi=7,Ze=256,Gn=16,Wn=17,Yn=18,ve=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Jt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ji=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Kn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qi=512,Y=new Array((Lt+2)*2);pt(Y);const Tt=new Array(ut*2);pt(Tt);const Nt=new Array(Qi);pt(Nt);const It=new Array(Vi-Xi+1);pt(It);const Fe=new Array(Be);pt(Fe);const Qt=new Array(ut);pt(Qt);function fe(t,n,e,i,a){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=i,this.max_length=a,this.has_stree=t&&t.length}let jn,Xn,Vn;function ce(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}const qn=t=>t<256?Nt[t]:Nt[256+(t>>>7)],zt=(t,n)=>{t.pending_buf[t.pending++]=n&255,t.pending_buf[t.pending++]=n>>>8&255},O=(t,n,e)=>{t.bi_valid>se-e?(t.bi_buf|=n<<t.bi_valid&65535,zt(t,t.bi_buf),t.bi_buf=n>>se-t.bi_valid,t.bi_valid+=e-se):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)},H=(t,n,e)=>{O(t,e[n*2],e[n*2+1])},Jn=(t,n)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--n>0);return e>>>1},ta=t=>{t.bi_valid===16?(zt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},ea=(t,n)=>{const e=n.dyn_tree,i=n.max_code,a=n.stat_desc.static_tree,r=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,c=n.stat_desc.max_length;let o,f,w,d,h,b,v=0;for(d=0;d<=rt;d++)t.bl_count[d]=0;for(e[t.heap[t.heap_max]*2+1]=0,o=t.heap_max+1;o<Pn;o++)f=t.heap[o],d=e[e[f*2+1]*2+1]+1,d>c&&(d=c,v++),e[f*2+1]=d,!(f>i)&&(t.bl_count[d]++,h=0,f>=l&&(h=s[f-l]),b=e[f*2],t.opt_len+=b*(d+h),r&&(t.static_len+=b*(a[f*2+1]+h)));if(v!==0){do{for(d=c-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(d=c;d!==0;d--)for(f=t.bl_count[d];f!==0;)w=t.heap[--o],!(w>i)&&(e[w*2+1]!==d&&(t.opt_len+=(d-e[w*2+1])*e[w*2],e[w*2+1]=d),f--)}},Qn=(t,n,e)=>{const i=new Array(rt+1);let a=0,r,s;for(r=1;r<=rt;r++)a=a+e[r-1]<<1,i[r]=a;for(s=0;s<=n;s++){let l=t[s*2+1];l!==0&&(t[s*2]=Jn(i[l]++,l))}},na=()=>{let t,n,e,i,a;const r=new Array(rt+1);for(e=0,i=0;i<Be-1;i++)for(Fe[i]=e,t=0;t<1<<ve[i];t++)It[e++]=i;for(It[e-1]=i,a=0,i=0;i<16;i++)for(Qt[i]=a,t=0;t<1<<Jt[i];t++)Nt[a++]=i;for(a>>=7;i<ut;i++)for(Qt[i]=a<<7,t=0;t<1<<Jt[i]-7;t++)Nt[256+a++]=i;for(n=0;n<=rt;n++)r[n]=0;for(t=0;t<=143;)Y[t*2+1]=8,t++,r[8]++;for(;t<=255;)Y[t*2+1]=9,t++,r[9]++;for(;t<=279;)Y[t*2+1]=7,t++,r[7]++;for(;t<=287;)Y[t*2+1]=8,t++,r[8]++;for(Qn(Y,Lt+1,r),t=0;t<ut;t++)Tt[t*2+1]=5,Tt[t*2]=Jn(t,5);jn=new fe(Y,ve,Mt+1,Lt,rt),Xn=new fe(Tt,Jt,0,ut,rt),Vn=new fe(new Array(0),Ji,0,Ce,qi)},ti=t=>{let n;for(n=0;n<Lt;n++)t.dyn_ltree[n*2]=0;for(n=0;n<ut;n++)t.dyn_dtree[n*2]=0;for(n=0;n<Ce;n++)t.bl_tree[n*2]=0;t.dyn_ltree[Ze*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ei=t=>{t.bi_valid>8?zt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},qe=(t,n,e,i)=>{const a=n*2,r=e*2;return t[a]<t[r]||t[a]===t[r]&&i[n]<=i[e]},he=(t,n,e)=>{const i=t.heap[e];let a=e<<1;for(;a<=t.heap_len&&(a<t.heap_len&&qe(n,t.heap[a+1],t.heap[a],t.depth)&&a++,!qe(n,i,t.heap[a],t.depth));)t.heap[e]=t.heap[a],e=a,a<<=1;t.heap[e]=i},Je=(t,n,e)=>{let i,a,r=0,s,l;if(t.sym_next!==0)do i=t.pending_buf[t.sym_buf+r++]&255,i+=(t.pending_buf[t.sym_buf+r++]&255)<<8,a=t.pending_buf[t.sym_buf+r++],i===0?H(t,a,n):(s=It[a],H(t,s+Mt+1,n),l=ve[s],l!==0&&(a-=Fe[s],O(t,a,l)),i--,s=qn(i),H(t,s,e),l=Jt[s],l!==0&&(i-=Qt[s],O(t,i,l)));while(r<t.sym_next);H(t,Ze,n)},ke=(t,n)=>{const e=n.dyn_tree,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,r=n.stat_desc.elems;let s,l,c=-1,o;for(t.heap_len=0,t.heap_max=Pn,s=0;s<r;s++)e[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):e[s*2+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=c<2?++c:0,e[o*2]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=i[o*2+1]);for(n.max_code=c,s=t.heap_len>>1;s>=1;s--)he(t,e,s);o=r;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],he(t,e,1),l=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=l,e[o*2]=e[s*2]+e[l*2],t.depth[o]=(t.depth[s]>=t.depth[l]?t.depth[s]:t.depth[l])+1,e[s*2+1]=e[l*2+1]=o,t.heap[1]=o++,he(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],ea(t,n),Qn(e,c,t.bl_count)},Qe=(t,n,e)=>{let i,a=-1,r,s=n[0*2+1],l=0,c=7,o=4;for(s===0&&(c=138,o=3),n[(e+1)*2+1]=65535,i=0;i<=e;i++)r=s,s=n[(i+1)*2+1],!(++l<c&&r===s)&&(l<o?t.bl_tree[r*2]+=l:r!==0?(r!==a&&t.bl_tree[r*2]++,t.bl_tree[Gn*2]++):l<=10?t.bl_tree[Wn*2]++:t.bl_tree[Yn*2]++,l=0,a=r,s===0?(c=138,o=3):r===s?(c=6,o=3):(c=7,o=4))},tn=(t,n,e)=>{let i,a=-1,r,s=n[0*2+1],l=0,c=7,o=4;for(s===0&&(c=138,o=3),i=0;i<=e;i++)if(r=s,s=n[(i+1)*2+1],!(++l<c&&r===s)){if(l<o)do H(t,r,t.bl_tree);while(--l!==0);else r!==0?(r!==a&&(H(t,r,t.bl_tree),l--),H(t,Gn,t.bl_tree),O(t,l-3,2)):l<=10?(H(t,Wn,t.bl_tree),O(t,l-3,3)):(H(t,Yn,t.bl_tree),O(t,l-11,7));l=0,a=r,s===0?(c=138,o=3):r===s?(c=6,o=3):(c=7,o=4)}},ia=t=>{let n;for(Qe(t,t.dyn_ltree,t.l_desc.max_code),Qe(t,t.dyn_dtree,t.d_desc.max_code),ke(t,t.bl_desc),n=Ce-1;n>=3&&t.bl_tree[Kn[n]*2+1]===0;n--);return t.opt_len+=3*(n+1)+5+5+4,n},aa=(t,n,e,i)=>{let a;for(O(t,n-257,5),O(t,e-1,5),O(t,i-4,4),a=0;a<i;a++)O(t,t.bl_tree[Kn[a]*2+1],3);tn(t,t.dyn_ltree,n-1),tn(t,t.dyn_dtree,e-1)},ra=t=>{let n=4093624447,e;for(e=0;e<=31;e++,n>>>=1)if(n&1&&t.dyn_ltree[e*2]!==0)return Xe;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Ve;for(e=32;e<Mt;e++)if(t.dyn_ltree[e*2]!==0)return Ve;return Xe};let en=!1;const oa=t=>{en||(na(),en=!0),t.l_desc=new ce(t.dyn_ltree,jn),t.d_desc=new ce(t.dyn_dtree,Xn),t.bl_desc=new ce(t.bl_tree,Vn),t.bi_buf=0,t.bi_valid=0,ti(t)},ni=(t,n,e,i)=>{O(t,(Ki<<1)+(i?1:0),3),ei(t),zt(t,e),zt(t,~e),e&&t.pending_buf.set(t.window.subarray(n,n+e),t.pending),t.pending+=e},la=t=>{O(t,Hn<<1,3),H(t,Ze,Y),ta(t)},sa=(t,n,e,i)=>{let a,r,s=0;t.level>0?(t.strm.data_type===Yi&&(t.strm.data_type=ra(t)),ke(t,t.l_desc),ke(t,t.d_desc),s=ia(t),a=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=a&&(a=r)):a=r=e+5,e+4<=a&&n!==-1?ni(t,n,e,i):t.strategy===Wi||r===a?(O(t,(Hn<<1)+(i?1:0),3),Je(t,Y,Tt)):(O(t,(ji<<1)+(i?1:0),3),aa(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Je(t,t.dyn_ltree,t.dyn_dtree)),ti(t),i&&ei(t)},fa=(t,n,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=n,t.pending_buf[t.sym_buf+t.sym_next++]=n>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,n===0?t.dyn_ltree[e*2]++:(t.matches++,n--,t.dyn_ltree[(It[e]+Mt+1)*2]++,t.dyn_dtree[qn(n)*2]++),t.sym_next===t.sym_end);var ca=oa,ha=ni,da=sa,_a=fa,ua=la,wa={_tr_init:ca,_tr_stored_block:ha,_tr_flush_block:da,_tr_tally:_a,_tr_align:ua};const ba=(t,n,e,i)=>{let a=t&65535|0,r=t>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do a=a+n[i++]|0,r=r+a|0;while(--s);a%=65521,r%=65521}return a|r<<16|0};var Ot=ba;const ga=()=>{let t,n=[];for(var e=0;e<256;e++){t=e;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;n[e]=t}return n},pa=new Uint32Array(ga()),xa=(t,n,e,i)=>{const a=pa,r=i+e;t^=-1;for(let s=i;s<r;s++)t=t>>>8^a[(t^n[s])&255];return t^-1};var L=xa,wt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ht={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ya,_tr_stored_block:Ae,_tr_flush_block:ma,_tr_tally:tt,_tr_align:Ea}=wa,{Z_NO_FLUSH:et,Z_PARTIAL_FLUSH:va,Z_FULL_FLUSH:ka,Z_FINISH:Z,Z_BLOCK:nn,Z_OK:N,Z_STREAM_END:an,Z_STREAM_ERROR:P,Z_DATA_ERROR:Aa,Z_BUF_ERROR:de,Z_DEFAULT_COMPRESSION:Ta,Z_FILTERED:Sa,Z_HUFFMAN_ONLY:Kt,Z_RLE:Ra,Z_FIXED:Da,Z_DEFAULT_STRATEGY:Ua,Z_UNKNOWN:La,Z_DEFLATED:ae}=Ht,Na=9,Ia=15,za=8,Oa=29,Ba=256,Te=Ba+1+Oa,Ca=30,Za=19,Fa=2*Te+1,$a=15,A=3,J=258,G=J+A+1,Ma=32,bt=42,$e=57,Se=69,Re=73,De=91,Ue=103,ot=113,kt=666,I=1,xt=2,st=3,yt=4,Ha=3,lt=(t,n)=>(t.msg=wt[n],n),rn=t=>t*2-(t>4?9:0),V=t=>{let n=t.length;for(;--n>=0;)t[n]=0},Pa=t=>{let n,e,i,a=t.w_size;n=t.hash_size,i=n;do e=t.head[--i],t.head[i]=e>=a?e-a:0;while(--n);n=a,i=n;do e=t.prev[--i],t.prev[i]=e>=a?e-a:0;while(--n)};let Ga=(t,n,e)=>(n<<t.hash_shift^e)&t.hash_mask,nt=Ga;const B=t=>{const n=t.state;let e=n.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+e),t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,n.pending===0&&(n.pending_out=0))},C=(t,n)=>{ma(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,B(t.strm)},S=(t,n)=>{t.pending_buf[t.pending++]=n},mt=(t,n)=>{t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=n&255},Le=(t,n,e,i)=>{let a=t.avail_in;return a>i&&(a=i),a===0?0:(t.avail_in-=a,n.set(t.input.subarray(t.next_in,t.next_in+a),e),t.state.wrap===1?t.adler=Ot(t.adler,n,a,e):t.state.wrap===2&&(t.adler=L(t.adler,n,a,e)),t.next_in+=a,t.total_in+=a,a)},ii=(t,n)=>{let e=t.max_chain_length,i=t.strstart,a,r,s=t.prev_length,l=t.nice_match;const c=t.strstart>t.w_size-G?t.strstart-(t.w_size-G):0,o=t.window,f=t.w_mask,w=t.prev,d=t.strstart+J;let h=o[i+s-1],b=o[i+s];t.prev_length>=t.good_match&&(e>>=2),l>t.lookahead&&(l=t.lookahead);do if(a=n,!(o[a+s]!==b||o[a+s-1]!==h||o[a]!==o[i]||o[++a]!==o[i+1])){i+=2,a++;do;while(o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&o[++i]===o[++a]&&i<d);if(r=J-(d-i),i=d-J,r>s){if(t.match_start=n,s=r,r>=l)break;h=o[i+s-1],b=o[i+s]}}while((n=w[n&f])>c&&--e!==0);return s<=t.lookahead?s:t.lookahead},gt=t=>{const n=t.w_size;let e,i,a;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-G)&&(t.window.set(t.window.subarray(n,n+n-i),0),t.match_start-=n,t.strstart-=n,t.block_start-=n,t.insert>t.strstart&&(t.insert=t.strstart),Pa(t),i+=n),t.strm.avail_in===0)break;if(e=Le(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=e,t.lookahead+t.insert>=A)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=nt(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=nt(t,t.ins_h,t.window[a+A-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<A)););}while(t.lookahead<G&&t.strm.avail_in!==0)},ai=(t,n)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,a,r,s=0,l=t.strm.avail_in;do{if(i=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r||(r=t.strm.avail_out-r,a=t.strstart-t.block_start,i>a+t.strm.avail_in&&(i=a+t.strm.avail_in),i>r&&(i=r),i<e&&(i===0&&n!==Z||n===et||i!==a+t.strm.avail_in)))break;s=n===Z&&i===a+t.strm.avail_in?1:0,Ae(t,0,0,s),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,B(t.strm),a&&(a>i&&(a=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,i-=a),i&&(Le(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(s===0);return l-=t.strm.avail_in,l&&(l>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=l&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-l,t.strm.next_in),t.strstart),t.strstart+=l,t.insert+=l>t.w_size-t.insert?t.w_size-t.insert:l),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?yt:n!==et&&n!==Z&&t.strm.avail_in===0&&t.strstart===t.block_start?xt:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(Le(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,e=r>t.w_size?t.w_size:r,a=t.strstart-t.block_start,(a>=e||(a||n===Z)&&n!==et&&t.strm.avail_in===0&&a<=r)&&(i=a>r?r:a,s=n===Z&&t.strm.avail_in===0&&i===a?1:0,Ae(t,t.block_start,i,s),t.block_start+=i,B(t.strm)),s?st:I)},_e=(t,n)=>{let e,i;for(;;){if(t.lookahead<G){if(gt(t),t.lookahead<G&&n===et)return I;if(t.lookahead===0)break}if(e=0,t.lookahead>=A&&(t.ins_h=nt(t,t.ins_h,t.window[t.strstart+A-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-G&&(t.match_length=ii(t,e)),t.match_length>=A)if(i=tt(t,t.strstart-t.match_start,t.match_length-A),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=A){t.match_length--;do t.strstart++,t.ins_h=nt(t,t.ins_h,t.window[t.strstart+A-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=nt(t,t.ins_h,t.window[t.strstart+1]);else i=tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(C(t,!1),t.strm.avail_out===0))return I}return t.insert=t.strstart<A-1?t.strstart:A-1,n===Z?(C(t,!0),t.strm.avail_out===0?st:yt):t.sym_next&&(C(t,!1),t.strm.avail_out===0)?I:xt},dt=(t,n)=>{let e,i,a;for(;;){if(t.lookahead<G){if(gt(t),t.lookahead<G&&n===et)return I;if(t.lookahead===0)break}if(e=0,t.lookahead>=A&&(t.ins_h=nt(t,t.ins_h,t.window[t.strstart+A-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=A-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-G&&(t.match_length=ii(t,e),t.match_length<=5&&(t.strategy===Sa||t.match_length===A&&t.strstart-t.match_start>4096)&&(t.match_length=A-1)),t.prev_length>=A&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-A,i=tt(t,t.strstart-1-t.prev_match,t.prev_length-A),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=nt(t,t.ins_h,t.window[t.strstart+A-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=A-1,t.strstart++,i&&(C(t,!1),t.strm.avail_out===0))return I}else if(t.match_available){if(i=tt(t,0,t.window[t.strstart-1]),i&&C(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return I}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=tt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<A-1?t.strstart:A-1,n===Z?(C(t,!0),t.strm.avail_out===0?st:yt):t.sym_next&&(C(t,!1),t.strm.avail_out===0)?I:xt},Wa=(t,n)=>{let e,i,a,r;const s=t.window;for(;;){if(t.lookahead<=J){if(gt(t),t.lookahead<=J&&n===et)return I;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=A&&t.strstart>0&&(a=t.strstart-1,i=s[a],i===s[++a]&&i===s[++a]&&i===s[++a])){r=t.strstart+J;do;while(i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&i===s[++a]&&a<r);t.match_length=J-(r-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=A?(e=tt(t,1,t.match_length-A),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(C(t,!1),t.strm.avail_out===0))return I}return t.insert=0,n===Z?(C(t,!0),t.strm.avail_out===0?st:yt):t.sym_next&&(C(t,!1),t.strm.avail_out===0)?I:xt},Ya=(t,n)=>{let e;for(;;){if(t.lookahead===0&&(gt(t),t.lookahead===0)){if(n===et)return I;break}if(t.match_length=0,e=tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(C(t,!1),t.strm.avail_out===0))return I}return t.insert=0,n===Z?(C(t,!0),t.strm.avail_out===0?st:yt):t.sym_next&&(C(t,!1),t.strm.avail_out===0)?I:xt};function M(t,n,e,i,a){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=i,this.func=a}const At=[new M(0,0,0,0,ai),new M(4,4,8,4,_e),new M(4,5,16,8,_e),new M(4,6,32,32,_e),new M(4,4,16,16,dt),new M(8,16,32,32,dt),new M(8,16,128,128,dt),new M(8,32,128,256,dt),new M(32,128,258,1024,dt),new M(32,258,258,4096,dt)],Ka=t=>{t.window_size=2*t.w_size,V(t.head),t.max_lazy_match=At[t.level].max_lazy,t.good_match=At[t.level].good_length,t.nice_match=At[t.level].nice_length,t.max_chain_length=At[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=A-1,t.match_available=0,t.ins_h=0};function ja(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ae,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Fa*2),this.dyn_dtree=new Uint16Array((2*Ca+1)*2),this.bl_tree=new Uint16Array((2*Za+1)*2),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($a+1),this.heap=new Uint16Array(2*Te+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Te+1),V(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Pt=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||n.status!==bt&&n.status!==$e&&n.status!==Se&&n.status!==Re&&n.status!==De&&n.status!==Ue&&n.status!==ot&&n.status!==kt?1:0},ri=t=>{if(Pt(t))return lt(t,P);t.total_in=t.total_out=0,t.data_type=La;const n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?$e:n.wrap?bt:ot,t.adler=n.wrap===2?0:1,n.last_flush=-2,ya(n),N},oi=t=>{const n=ri(t);return n===N&&Ka(t.state),n},Xa=(t,n)=>Pt(t)||t.state.wrap!==2?P:(t.state.gzhead=n,N),li=(t,n,e,i,a,r)=>{if(!t)return P;let s=1;if(n===Ta&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>Na||e!==ae||i<8||i>15||n<0||n>9||r<0||r>Da||i===8&&s!==1)return lt(t,P);i===8&&(i=9);const l=new ja;return t.state=l,l.strm=t,l.status=bt,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+A-1)/A),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=r,l.method=e,oi(t)},Va=(t,n)=>li(t,n,ae,Ia,za,Ua),qa=(t,n)=>{if(Pt(t)||n>nn||n<0)return t?lt(t,P):P;const e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===kt&&n!==Z)return lt(t,t.avail_out===0?de:P);const i=e.last_flush;if(e.last_flush=n,e.pending!==0){if(B(t),t.avail_out===0)return e.last_flush=-1,N}else if(t.avail_in===0&&rn(n)<=rn(i)&&n!==Z)return lt(t,de);if(e.status===kt&&t.avail_in!==0)return lt(t,de);if(e.status===bt&&e.wrap===0&&(e.status=ot),e.status===bt){let a=ae+(e.w_bits-8<<4)<<8,r=-1;if(e.strategy>=Kt||e.level<2?r=0:e.level<6?r=1:e.level===6?r=2:r=3,a|=r<<6,e.strstart!==0&&(a|=Ma),a+=31-a%31,mt(e,a),e.strstart!==0&&(mt(e,t.adler>>>16),mt(e,t.adler&65535)),t.adler=1,e.status=ot,B(t),e.pending!==0)return e.last_flush=-1,N}if(e.status===$e){if(t.adler=0,S(e,31),S(e,139),S(e,8),e.gzhead)S(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),S(e,e.gzhead.time&255),S(e,e.gzhead.time>>8&255),S(e,e.gzhead.time>>16&255),S(e,e.gzhead.time>>24&255),S(e,e.level===9?2:e.strategy>=Kt||e.level<2?4:0),S(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(S(e,e.gzhead.extra.length&255),S(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=L(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=Se;else if(S(e,0),S(e,0),S(e,0),S(e,0),S(e,0),S(e,e.level===9?2:e.strategy>=Kt||e.level<2?4:0),S(e,Ha),e.status=ot,B(t),e.pending!==0)return e.last_flush=-1,N}if(e.status===Se){if(e.gzhead.extra){let a=e.pending,r=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+r>e.pending_buf_size;){let l=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+l),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>a&&(t.adler=L(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex+=l,B(t),e.pending!==0)return e.last_flush=-1,N;a=0,r-=l}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+r),e.pending),e.pending+=r,e.gzhead.hcrc&&e.pending>a&&(t.adler=L(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=Re}if(e.status===Re){if(e.gzhead.name){let a=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=L(t.adler,e.pending_buf,e.pending-a,a)),B(t),e.pending!==0)return e.last_flush=-1,N;a=0}e.gzindex<e.gzhead.name.length?r=e.gzhead.name.charCodeAt(e.gzindex++)&255:r=0,S(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=L(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=De}if(e.status===De){if(e.gzhead.comment){let a=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=L(t.adler,e.pending_buf,e.pending-a,a)),B(t),e.pending!==0)return e.last_flush=-1,N;a=0}e.gzindex<e.gzhead.comment.length?r=e.gzhead.comment.charCodeAt(e.gzindex++)&255:r=0,S(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=L(t.adler,e.pending_buf,e.pending-a,a))}e.status=Ue}if(e.status===Ue){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(B(t),e.pending!==0))return e.last_flush=-1,N;S(e,t.adler&255),S(e,t.adler>>8&255),t.adler=0}if(e.status=ot,B(t),e.pending!==0)return e.last_flush=-1,N}if(t.avail_in!==0||e.lookahead!==0||n!==et&&e.status!==kt){let a=e.level===0?ai(e,n):e.strategy===Kt?Ya(e,n):e.strategy===Ra?Wa(e,n):At[e.level].func(e,n);if((a===st||a===yt)&&(e.status=kt),a===I||a===st)return t.avail_out===0&&(e.last_flush=-1),N;if(a===xt&&(n===va?Ea(e):n!==nn&&(Ae(e,0,0,!1),n===ka&&(V(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),B(t),t.avail_out===0))return e.last_flush=-1,N}return n!==Z?N:e.wrap<=0?an:(e.wrap===2?(S(e,t.adler&255),S(e,t.adler>>8&255),S(e,t.adler>>16&255),S(e,t.adler>>24&255),S(e,t.total_in&255),S(e,t.total_in>>8&255),S(e,t.total_in>>16&255),S(e,t.total_in>>24&255)):(mt(e,t.adler>>>16),mt(e,t.adler&65535)),B(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?N:an)},Ja=t=>{if(Pt(t))return P;const n=t.state.status;return t.state=null,n===ot?lt(t,Aa):N},Qa=(t,n)=>{let e=n.length;if(Pt(t))return P;const i=t.state,a=i.wrap;if(a===2||a===1&&i.status!==bt||i.lookahead)return P;if(a===1&&(t.adler=Ot(t.adler,n,e,0)),i.wrap=0,e>=i.w_size){a===0&&(V(i.head),i.strstart=0,i.block_start=0,i.insert=0);let c=new Uint8Array(i.w_size);c.set(n.subarray(e-i.w_size,e),0),n=c,e=i.w_size}const r=t.avail_in,s=t.next_in,l=t.input;for(t.avail_in=e,t.next_in=0,t.input=n,gt(i);i.lookahead>=A;){let c=i.strstart,o=i.lookahead-(A-1);do i.ins_h=nt(i,i.ins_h,i.window[c+A-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++;while(--o);i.strstart=c,i.lookahead=A-1,gt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=A-1,i.match_available=0,t.next_in=s,t.input=l,t.avail_in=r,i.wrap=a,N};var tr=Va,er=li,nr=oi,ir=ri,ar=Xa,rr=qa,or=Ja,lr=Qa,sr="pako deflate (from Nodeca project)",St={deflateInit:tr,deflateInit2:er,deflateReset:nr,deflateResetKeep:ir,deflateSetHeader:ar,deflate:rr,deflateEnd:or,deflateSetDictionary:lr,deflateInfo:sr};const fr=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var cr=function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const e=n.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const i in e)fr(e,i)&&(t[i]=e[i])}}return t},hr=t=>{let n=0;for(let i=0,a=t.length;i<a;i++)n+=t[i].length;const e=new Uint8Array(n);for(let i=0,a=0,r=t.length;i<r;i++){let s=t[i];e.set(s,a),a+=s.length}return e},re={assign:cr,flattenChunks:hr};let si=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{si=!1}const Bt=new Uint8Array(256);for(let t=0;t<256;t++)Bt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Bt[254]=Bt[254]=1;var dr=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let n,e,i,a,r,s=t.length,l=0;for(a=0;a<s;a++)e=t.charCodeAt(a),(e&64512)===55296&&a+1<s&&(i=t.charCodeAt(a+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),a++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(l),r=0,a=0;r<l;a++)e=t.charCodeAt(a),(e&64512)===55296&&a+1<s&&(i=t.charCodeAt(a+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),a++)),e<128?n[r++]=e:e<2048?(n[r++]=192|e>>>6,n[r++]=128|e&63):e<65536?(n[r++]=224|e>>>12,n[r++]=128|e>>>6&63,n[r++]=128|e&63):(n[r++]=240|e>>>18,n[r++]=128|e>>>12&63,n[r++]=128|e>>>6&63,n[r++]=128|e&63);return n};const _r=(t,n)=>{if(n<65534&&t.subarray&&si)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let e="";for(let i=0;i<n;i++)e+=String.fromCharCode(t[i]);return e};var ur=(t,n)=>{const e=n||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,n));let i,a;const r=new Array(e*2);for(a=0,i=0;i<e;){let s=t[i++];if(s<128){r[a++]=s;continue}let l=Bt[s];if(l>4){r[a++]=65533,i+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&i<e;)s=s<<6|t[i++]&63,l--;if(l>1){r[a++]=65533;continue}s<65536?r[a++]=s:(s-=65536,r[a++]=55296|s>>10&1023,r[a++]=56320|s&1023)}return _r(r,a)},wr=(t,n)=>{n=n||t.length,n>t.length&&(n=t.length);let e=n-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?n:e+Bt[t[e]]>n?e:n},Ct={string2buf:dr,buf2string:ur,utf8border:wr};function br(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fi=br;const ci=Object.prototype.toString,{Z_NO_FLUSH:gr,Z_SYNC_FLUSH:pr,Z_FULL_FLUSH:xr,Z_FINISH:yr,Z_OK:te,Z_STREAM_END:mr,Z_DEFAULT_COMPRESSION:Er,Z_DEFAULT_STRATEGY:vr,Z_DEFLATED:kr}=Ht;function Gt(t){this.options=re.assign({level:Er,method:kr,chunkSize:16384,windowBits:15,memLevel:8,strategy:vr},t||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fi,this.strm.avail_out=0;let e=St.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==te)throw new Error(wt[e]);if(n.header&&St.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Ct.string2buf(n.dictionary):ci.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,e=St.deflateSetDictionary(this.strm,i),e!==te)throw new Error(wt[e]);this._dict_set=!0}}Gt.prototype.push=function(t,n){const e=this.strm,i=this.options.chunkSize;let a,r;if(this.ended)return!1;for(n===~~n?r=n:r=n===!0?yr:gr,typeof t=="string"?e.input=Ct.string2buf(t):ci.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(r===pr||r===xr)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(a=St.deflate(e,r),a===mr)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=St.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===te;if(e.avail_out===0){this.onData(e.output);continue}if(r>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Gt.prototype.onData=function(t){this.chunks.push(t)};Gt.prototype.onEnd=function(t){t===te&&(this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Me(t,n){const e=new Gt(n);if(e.push(t,!0),e.err)throw e.msg||wt[e.err];return e.result}function Ar(t,n){return n=n||{},n.raw=!0,Me(t,n)}function Tr(t,n){return n=n||{},n.gzip=!0,Me(t,n)}var Sr=Gt,Rr=Me,Dr=Ar,Ur=Tr,Lr=Ht,Nr={Deflate:Sr,deflate:Rr,deflateRaw:Dr,gzip:Ur,constants:Lr};const jt=16209,Ir=16191;var zr=function(n,e){let i,a,r,s,l,c,o,f,w,d,h,b,v,E,x,y,u,_,p,D,g,R,T,m;const k=n.state;i=n.next_in,T=n.input,a=i+(n.avail_in-5),r=n.next_out,m=n.output,s=r-(e-n.avail_out),l=r+(n.avail_out-257),c=k.dmax,o=k.wsize,f=k.whave,w=k.wnext,d=k.window,h=k.hold,b=k.bits,v=k.lencode,E=k.distcode,x=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;t:do{b<15&&(h+=T[i++]<<b,b+=8,h+=T[i++]<<b,b+=8),u=v[h&x];e:for(;;){if(_=u>>>24,h>>>=_,b-=_,_=u>>>16&255,_===0)m[r++]=u&65535;else if(_&16){p=u&65535,_&=15,_&&(b<_&&(h+=T[i++]<<b,b+=8),p+=h&(1<<_)-1,h>>>=_,b-=_),b<15&&(h+=T[i++]<<b,b+=8,h+=T[i++]<<b,b+=8),u=E[h&y];n:for(;;){if(_=u>>>24,h>>>=_,b-=_,_=u>>>16&255,_&16){if(D=u&65535,_&=15,b<_&&(h+=T[i++]<<b,b+=8,b<_&&(h+=T[i++]<<b,b+=8)),D+=h&(1<<_)-1,D>c){n.msg="invalid distance too far back",k.mode=jt;break t}if(h>>>=_,b-=_,_=r-s,D>_){if(_=D-_,_>f&&k.sane){n.msg="invalid distance too far back",k.mode=jt;break t}if(g=0,R=d,w===0){if(g+=o-_,_<p){p-=_;do m[r++]=d[g++];while(--_);g=r-D,R=m}}else if(w<_){if(g+=o+w-_,_-=w,_<p){p-=_;do m[r++]=d[g++];while(--_);if(g=0,w<p){_=w,p-=_;do m[r++]=d[g++];while(--_);g=r-D,R=m}}}else if(g+=w-_,_<p){p-=_;do m[r++]=d[g++];while(--_);g=r-D,R=m}for(;p>2;)m[r++]=R[g++],m[r++]=R[g++],m[r++]=R[g++],p-=3;p&&(m[r++]=R[g++],p>1&&(m[r++]=R[g++]))}else{g=r-D;do m[r++]=m[g++],m[r++]=m[g++],m[r++]=m[g++],p-=3;while(p>2);p&&(m[r++]=m[g++],p>1&&(m[r++]=m[g++]))}}else if(_&64){n.msg="invalid distance code",k.mode=jt;break t}else{u=E[(u&65535)+(h&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){k.mode=Ir;break t}else{n.msg="invalid literal/length code",k.mode=jt;break t}else{u=v[(u&65535)+(h&(1<<_)-1)];continue e}break}}while(i<a&&r<l);p=b>>3,i-=p,b-=p<<3,h&=(1<<b)-1,n.next_in=i,n.next_out=r,n.avail_in=i<a?5+(a-i):5-(i-a),n.avail_out=r<l?257+(l-r):257-(r-l),k.hold=h,k.bits=b};const _t=15,on=852,ln=592,sn=0,ue=1,fn=2,Or=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Br=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Cr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Fr=(t,n,e,i,a,r,s,l)=>{const c=l.bits;let o=0,f=0,w=0,d=0,h=0,b=0,v=0,E=0,x=0,y=0,u,_,p,D,g,R=null,T;const m=new Uint16Array(_t+1),k=new Uint16Array(_t+1);let at=null,We,Wt,Yt;for(o=0;o<=_t;o++)m[o]=0;for(f=0;f<i;f++)m[n[e+f]]++;for(h=c,d=_t;d>=1&&m[d]===0;d--);if(h>d&&(h=d),d===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,l.bits=1,0;for(w=1;w<d&&m[w]===0;w++);for(h<w&&(h=w),E=1,o=1;o<=_t;o++)if(E<<=1,E-=m[o],E<0)return-1;if(E>0&&(t===sn||d!==1))return-1;for(k[1]=0,o=1;o<_t;o++)k[o+1]=k[o]+m[o];for(f=0;f<i;f++)n[e+f]!==0&&(s[k[n[e+f]]++]=f);if(t===sn?(R=at=s,T=20):t===ue?(R=Or,at=Br,T=257):(R=Cr,at=Zr,T=0),y=0,f=0,o=w,g=r,b=h,v=0,p=-1,x=1<<h,D=x-1,t===ue&&x>on||t===fn&&x>ln)return 1;for(;;){We=o-v,s[f]+1<T?(Wt=0,Yt=s[f]):s[f]>=T?(Wt=at[s[f]-T],Yt=R[s[f]-T]):(Wt=96,Yt=0),u=1<<o-v,_=1<<b,w=_;do _-=u,a[g+(y>>v)+_]=We<<24|Wt<<16|Yt|0;while(_!==0);for(u=1<<o-1;y&u;)u>>=1;if(u!==0?(y&=u-1,y+=u):y=0,f++,--m[o]===0){if(o===d)break;o=n[e+s[f]]}if(o>h&&(y&D)!==p){for(v===0&&(v=h),g+=w,b=o-v,E=1<<b;b+v<d&&(E-=m[b+v],!(E<=0));)b++,E<<=1;if(x+=1<<b,t===ue&&x>on||t===fn&&x>ln)return 1;p=y&D,a[p]=h<<24|b<<16|g-r|0}}return y!==0&&(a[g+y]=o-v<<24|64<<16|0),l.bits=h,0};var Rt=Fr;const $r=0,hi=1,di=2,{Z_FINISH:cn,Z_BLOCK:Mr,Z_TREES:Xt,Z_OK:ft,Z_STREAM_END:Hr,Z_NEED_DICT:Pr,Z_STREAM_ERROR:$,Z_DATA_ERROR:_i,Z_MEM_ERROR:ui,Z_BUF_ERROR:Gr,Z_DEFLATED:hn}=Ht,oe=16180,dn=16181,_n=16182,un=16183,wn=16184,bn=16185,gn=16186,pn=16187,xn=16188,yn=16189,ee=16190,W=16191,we=16192,mn=16193,be=16194,En=16195,vn=16196,kn=16197,An=16198,Vt=16199,qt=16200,Tn=16201,Sn=16202,Rn=16203,Dn=16204,Un=16205,ge=16206,Ln=16207,Nn=16208,U=16209,wi=16210,bi=16211,Wr=852,Yr=592,Kr=15,jr=Kr,In=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Xr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ht=t=>{if(!t)return 1;const n=t.state;return!n||n.strm!==t||n.mode<oe||n.mode>bi?1:0},gi=t=>{if(ht(t))return $;const n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=n.wrap&1),n.mode=oe,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Wr),n.distcode=n.distdyn=new Int32Array(Yr),n.sane=1,n.back=-1,ft},pi=t=>{if(ht(t))return $;const n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,gi(t)},xi=(t,n)=>{let e;if(ht(t))return $;const i=t.state;return n<0?(e=0,n=-n):(e=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?$:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=e,i.wbits=n,pi(t))},yi=(t,n)=>{if(!t)return $;const e=new Xr;t.state=e,e.strm=t,e.window=null,e.mode=oe;const i=xi(t,n);return i!==ft&&(t.state=null),i},Vr=t=>yi(t,jr);let zn=!0,pe,xe;const qr=t=>{if(zn){pe=new Int32Array(512),xe=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(Rt(hi,t.lens,0,288,pe,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;Rt(di,t.lens,0,32,xe,0,t.work,{bits:5}),zn=!1}t.lencode=pe,t.lenbits=9,t.distcode=xe,t.distbits=5},mi=(t,n,e,i)=>{let a;const r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(n.subarray(e-r.wsize,e),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>i&&(a=i),r.window.set(n.subarray(e-i,e-i+a),r.wnext),i-=a,i?(r.window.set(n.subarray(e-i,e),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},Jr=(t,n)=>{let e,i,a,r,s,l,c,o,f,w,d,h,b,v,E=0,x,y,u,_,p,D,g,R;const T=new Uint8Array(4);let m,k;const at=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ht(t)||!t.output||!t.input&&t.avail_in!==0)return $;e=t.state,e.mode===W&&(e.mode=we),s=t.next_out,a=t.output,c=t.avail_out,r=t.next_in,i=t.input,l=t.avail_in,o=e.hold,f=e.bits,w=l,d=c,R=ft;t:for(;;)switch(e.mode){case oe:if(e.wrap===0){e.mode=we;break}for(;f<16;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(e.wrap&2&&o===35615){e.wbits===0&&(e.wbits=15),e.check=0,T[0]=o&255,T[1]=o>>>8&255,e.check=L(e.check,T,2,0),o=0,f=0,e.mode=dn;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((o&255)<<8)+(o>>8))%31){t.msg="incorrect header check",e.mode=U;break}if((o&15)!==hn){t.msg="unknown compression method",e.mode=U;break}if(o>>>=4,f-=4,g=(o&15)+8,e.wbits===0&&(e.wbits=g),g>15||g>e.wbits){t.msg="invalid window size",e.mode=U;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=o&512?yn:W,o=0,f=0;break;case dn:for(;f<16;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(e.flags=o,(e.flags&255)!==hn){t.msg="unknown compression method",e.mode=U;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=U;break}e.head&&(e.head.text=o>>8&1),e.flags&512&&e.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,e.check=L(e.check,T,2,0)),o=0,f=0,e.mode=_n;case _n:for(;f<32;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}e.head&&(e.head.time=o),e.flags&512&&e.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,T[2]=o>>>16&255,T[3]=o>>>24&255,e.check=L(e.check,T,4,0)),o=0,f=0,e.mode=un;case un:for(;f<16;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}e.head&&(e.head.xflags=o&255,e.head.os=o>>8),e.flags&512&&e.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,e.check=L(e.check,T,2,0)),o=0,f=0,e.mode=wn;case wn:if(e.flags&1024){for(;f<16;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}e.length=o,e.head&&(e.head.extra_len=o),e.flags&512&&e.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,e.check=L(e.check,T,2,0)),o=0,f=0}else e.head&&(e.head.extra=null);e.mode=bn;case bn:if(e.flags&1024&&(h=e.length,h>l&&(h=l),h&&(e.head&&(g=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(r,r+h),g)),e.flags&512&&e.wrap&4&&(e.check=L(e.check,i,h,r)),l-=h,r+=h,e.length-=h),e.length))break t;e.length=0,e.mode=gn;case gn:if(e.flags&2048){if(l===0)break t;h=0;do g=i[r+h++],e.head&&g&&e.length<65536&&(e.head.name+=String.fromCharCode(g));while(g&&h<l);if(e.flags&512&&e.wrap&4&&(e.check=L(e.check,i,h,r)),l-=h,r+=h,g)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=pn;case pn:if(e.flags&4096){if(l===0)break t;h=0;do g=i[r+h++],e.head&&g&&e.length<65536&&(e.head.comment+=String.fromCharCode(g));while(g&&h<l);if(e.flags&512&&e.wrap&4&&(e.check=L(e.check,i,h,r)),l-=h,r+=h,g)break t}else e.head&&(e.head.comment=null);e.mode=xn;case xn:if(e.flags&512){for(;f<16;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(e.wrap&4&&o!==(e.check&65535)){t.msg="header crc mismatch",e.mode=U;break}o=0,f=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=W;break;case yn:for(;f<32;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}t.adler=e.check=In(o),o=0,f=0,e.mode=ee;case ee:if(e.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=l,e.hold=o,e.bits=f,Pr;t.adler=e.check=1,e.mode=W;case W:if(n===Mr||n===Xt)break t;case we:if(e.last){o>>>=f&7,f-=f&7,e.mode=ge;break}for(;f<3;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}switch(e.last=o&1,o>>>=1,f-=1,o&3){case 0:e.mode=mn;break;case 1:if(qr(e),e.mode=Vt,n===Xt){o>>>=2,f-=2;break t}break;case 2:e.mode=vn;break;case 3:t.msg="invalid block type",e.mode=U}o>>>=2,f-=2;break;case mn:for(o>>>=f&7,f-=f&7;f<32;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if((o&65535)!==(o>>>16^65535)){t.msg="invalid stored block lengths",e.mode=U;break}if(e.length=o&65535,o=0,f=0,e.mode=be,n===Xt)break t;case be:e.mode=En;case En:if(h=e.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break t;a.set(i.subarray(r,r+h),s),l-=h,r+=h,c-=h,s+=h,e.length-=h;break}e.mode=W;break;case vn:for(;f<14;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(e.nlen=(o&31)+257,o>>>=5,f-=5,e.ndist=(o&31)+1,o>>>=5,f-=5,e.ncode=(o&15)+4,o>>>=4,f-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=U;break}e.have=0,e.mode=kn;case kn:for(;e.have<e.ncode;){for(;f<3;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}e.lens[at[e.have++]]=o&7,o>>>=3,f-=3}for(;e.have<19;)e.lens[at[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,m={bits:e.lenbits},R=Rt($r,e.lens,0,19,e.lencode,0,e.work,m),e.lenbits=m.bits,R){t.msg="invalid code lengths set",e.mode=U;break}e.have=0,e.mode=An;case An:for(;e.have<e.nlen+e.ndist;){for(;E=e.lencode[o&(1<<e.lenbits)-1],x=E>>>24,y=E>>>16&255,u=E&65535,!(x<=f);){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(u<16)o>>>=x,f-=x,e.lens[e.have++]=u;else{if(u===16){for(k=x+2;f<k;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(o>>>=x,f-=x,e.have===0){t.msg="invalid bit length repeat",e.mode=U;break}g=e.lens[e.have-1],h=3+(o&3),o>>>=2,f-=2}else if(u===17){for(k=x+3;f<k;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}o>>>=x,f-=x,g=0,h=3+(o&7),o>>>=3,f-=3}else{for(k=x+7;f<k;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}o>>>=x,f-=x,g=0,h=11+(o&127),o>>>=7,f-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=U;break}for(;h--;)e.lens[e.have++]=g}}if(e.mode===U)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=U;break}if(e.lenbits=9,m={bits:e.lenbits},R=Rt(hi,e.lens,0,e.nlen,e.lencode,0,e.work,m),e.lenbits=m.bits,R){t.msg="invalid literal/lengths set",e.mode=U;break}if(e.distbits=6,e.distcode=e.distdyn,m={bits:e.distbits},R=Rt(di,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,m),e.distbits=m.bits,R){t.msg="invalid distances set",e.mode=U;break}if(e.mode=Vt,n===Xt)break t;case Vt:e.mode=qt;case qt:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=l,e.hold=o,e.bits=f,zr(t,d),s=t.next_out,a=t.output,c=t.avail_out,r=t.next_in,i=t.input,l=t.avail_in,o=e.hold,f=e.bits,e.mode===W&&(e.back=-1);break}for(e.back=0;E=e.lencode[o&(1<<e.lenbits)-1],x=E>>>24,y=E>>>16&255,u=E&65535,!(x<=f);){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(y&&!(y&240)){for(_=x,p=y,D=u;E=e.lencode[D+((o&(1<<_+p)-1)>>_)],x=E>>>24,y=E>>>16&255,u=E&65535,!(_+x<=f);){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}o>>>=_,f-=_,e.back+=_}if(o>>>=x,f-=x,e.back+=x,e.length=u,y===0){e.mode=Un;break}if(y&32){e.back=-1,e.mode=W;break}if(y&64){t.msg="invalid literal/length code",e.mode=U;break}e.extra=y&15,e.mode=Tn;case Tn:if(e.extra){for(k=e.extra;f<k;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}e.length+=o&(1<<e.extra)-1,o>>>=e.extra,f-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Sn;case Sn:for(;E=e.distcode[o&(1<<e.distbits)-1],x=E>>>24,y=E>>>16&255,u=E&65535,!(x<=f);){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(!(y&240)){for(_=x,p=y,D=u;E=e.distcode[D+((o&(1<<_+p)-1)>>_)],x=E>>>24,y=E>>>16&255,u=E&65535,!(_+x<=f);){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}o>>>=_,f-=_,e.back+=_}if(o>>>=x,f-=x,e.back+=x,y&64){t.msg="invalid distance code",e.mode=U;break}e.offset=u,e.extra=y&15,e.mode=Rn;case Rn:if(e.extra){for(k=e.extra;f<k;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}e.offset+=o&(1<<e.extra)-1,o>>>=e.extra,f-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=U;break}e.mode=Dn;case Dn:if(c===0)break t;if(h=d-c,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=U;break}h>e.wnext?(h-=e.wnext,b=e.wsize-h):b=e.wnext-h,h>e.length&&(h=e.length),v=e.window}else v=a,b=s-e.offset,h=e.length;h>c&&(h=c),c-=h,e.length-=h;do a[s++]=v[b++];while(--h);e.length===0&&(e.mode=qt);break;case Un:if(c===0)break t;a[s++]=e.length,c--,e.mode=qt;break;case ge:if(e.wrap){for(;f<32;){if(l===0)break t;l--,o|=i[r++]<<f,f+=8}if(d-=c,t.total_out+=d,e.total+=d,e.wrap&4&&d&&(t.adler=e.check=e.flags?L(e.check,a,d,s-d):Ot(e.check,a,d,s-d)),d=c,e.wrap&4&&(e.flags?o:In(o))!==e.check){t.msg="incorrect data check",e.mode=U;break}o=0,f=0}e.mode=Ln;case Ln:if(e.wrap&&e.flags){for(;f<32;){if(l===0)break t;l--,o+=i[r++]<<f,f+=8}if(e.wrap&4&&o!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=U;break}o=0,f=0}e.mode=Nn;case Nn:R=Hr;break t;case U:R=_i;break t;case wi:return ui;case bi:default:return $}return t.next_out=s,t.avail_out=c,t.next_in=r,t.avail_in=l,e.hold=o,e.bits=f,(e.wsize||d!==t.avail_out&&e.mode<U&&(e.mode<ge||n!==cn))&&mi(t,t.output,t.next_out,d-t.avail_out),w-=t.avail_in,d-=t.avail_out,t.total_in+=w,t.total_out+=d,e.total+=d,e.wrap&4&&d&&(t.adler=e.check=e.flags?L(e.check,a,d,t.next_out-d):Ot(e.check,a,d,t.next_out-d)),t.data_type=e.bits+(e.last?64:0)+(e.mode===W?128:0)+(e.mode===Vt||e.mode===be?256:0),(w===0&&d===0||n===cn)&&R===ft&&(R=Gr),R},Qr=t=>{if(ht(t))return $;let n=t.state;return n.window&&(n.window=null),t.state=null,ft},to=(t,n)=>{if(ht(t))return $;const e=t.state;return e.wrap&2?(e.head=n,n.done=!1,ft):$},eo=(t,n)=>{const e=n.length;let i,a,r;return ht(t)||(i=t.state,i.wrap!==0&&i.mode!==ee)?$:i.mode===ee&&(a=1,a=Ot(a,n,e,0),a!==i.check)?_i:(r=mi(t,n,e,e),r?(i.mode=wi,ui):(i.havedict=1,ft))};var no=pi,io=xi,ao=gi,ro=Vr,oo=yi,lo=Jr,so=Qr,fo=to,co=eo,ho="pako inflate (from Nodeca project)",K={inflateReset:no,inflateReset2:io,inflateResetKeep:ao,inflateInit:ro,inflateInit2:oo,inflate:lo,inflateEnd:so,inflateGetHeader:fo,inflateSetDictionary:co,inflateInfo:ho};function _o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uo=_o;const Ei=Object.prototype.toString,{Z_NO_FLUSH:wo,Z_FINISH:bo,Z_OK:Zt,Z_STREAM_END:ye,Z_NEED_DICT:me,Z_STREAM_ERROR:go,Z_DATA_ERROR:On,Z_MEM_ERROR:po}=Ht;function He(t){this.options=re.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fi,this.strm.avail_out=0;let e=K.inflateInit2(this.strm,n.windowBits);if(e!==Zt)throw new Error(wt[e]);if(this.header=new uo,K.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Ct.string2buf(n.dictionary):Ei.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=K.inflateSetDictionary(this.strm,n.dictionary),e!==Zt)))throw new Error(wt[e])}He.prototype.push=function(t,n){const e=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let r,s,l;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?bo:wo,Ei.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),r=K.inflate(e,s),r===me&&a&&(r=K.inflateSetDictionary(e,a),r===Zt?r=K.inflate(e,s):r===On&&(r=me));e.avail_in>0&&r===ye&&e.state.wrap>0&&t[e.next_in]!==0;)K.inflateReset(e),r=K.inflate(e,s);switch(r){case go:case On:case me:case po:return this.onEnd(r),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||r===ye))if(this.options.to==="string"){let c=Ct.utf8border(e.output,e.next_out),o=e.next_out-c,f=Ct.buf2string(e.output,c);e.next_out=o,e.avail_out=i-o,o&&e.output.set(e.output.subarray(c,c+o),0),this.onData(f)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(r===Zt&&l===0)){if(r===ye)return r=K.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};He.prototype.onData=function(t){this.chunks.push(t)};He.prototype.onEnd=function(t){t===Zt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=re.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:sl,deflate:xo,deflateRaw:fl,gzip:cl}=Nr;var vi=xo;(function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function n(i="utf-8"){if(i!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${i}') is invalid.`)}Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),n.prototype.encode=function(i,a={stream:!1}){if(a.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let r=0;const s=i.length;let l=0,c=Math.max(32,s+(s>>1)+7),o=new Uint8Array(c>>3<<3);for(;r<s;){let f=i.charCodeAt(r++);if(f>=55296&&f<=56319){if(r<s){const w=i.charCodeAt(r);(w&64512)===56320&&(++r,f=((f&1023)<<10)+(w&1023)+65536)}if(f>=55296&&f<=56319)continue}if(l+4>o.length){c+=8,c*=1+r/i.length*2,c=c>>3<<3;const w=new Uint8Array(c);w.set(o),o=w}if(f&4294967168)if(!(f&4294965248))o[l++]=f>>6&31|192;else if(!(f&4294901760))o[l++]=f>>12&15|224,o[l++]=f>>6&63|128;else if(!(f&4292870144))o[l++]=f>>18&7|240,o[l++]=f>>12&63|128,o[l++]=f>>6&63|128;else continue;else{o[l++]=f;continue}o[l++]=f&63|128}return o.slice(0,l)};function e(i="utf-8",a={fatal:!1}){if(i!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${i}') is invalid.`);if(a.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(e.prototype,"fatal",{value:!1}),Object.defineProperty(e.prototype,"ignoreBOM",{value:!1}),e.prototype.decode=function(i,a={stream:!1}){if(a.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const r=new Uint8Array(i);let s=0;const l=r.length,c=[];for(;s<l;){const o=r[s++];if(o===0)break;if(!(o&128))c.push(o);else if((o&224)===192){const f=r[s++]&63;c.push((o&31)<<6|f)}else if((o&240)===224){const f=r[s++]&63,w=r[s++]&63;c.push((o&31)<<12|f<<6|w)}else if((o&248)===240){const f=r[s++]&63,w=r[s++]&63,d=r[s++]&63;let h=(o&7)<<18|f<<12|w<<6|d;h>65535&&(h-=65536,c.push(h>>>10&1023|55296),h=56320|h&1023),c.push(h)}}return String.fromCharCode.apply(null,c)},t.TextEncoder=n,t.TextDecoder=e})(typeof window<"u"?window:typeof self<"u"?self:void 0);function Bn(t,n="utf8"){return new TextDecoder(n).decode(t)}const yo=new TextEncoder;function mo(t){return yo.encode(t)}const Eo=1024*8,vo=(()=>{const t=new Uint8Array(4),n=new Uint32Array(t.buffer);return!((n[0]=1)&t[0])})(),Ee={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ne{constructor(n=Eo,e={}){let i=!1;typeof n=="number"?n=new ArrayBuffer(n):(i=!0,this.lastWrittenByte=n.byteLength);const a=e.offset?e.offset>>>0:0,r=n.byteLength-a;let s=a;(ArrayBuffer.isView(n)||n instanceof ne)&&(n.byteLength!==n.buffer.byteLength&&(s=n.byteOffset+a),n=n.buffer),i?this.lastWrittenByte=r:this.lastWrittenByte=0,this.buffer=n,this.length=r,this.byteLength=r,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,r),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const n=this._marks.pop();if(n===void 0)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){const i=(this.offset+n)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,e){const i=Ee[e].BYTES_PER_ELEMENT*n,a=this.byteOffset+this.offset,r=this.buffer.slice(a,a+i);if(this.littleEndian===vo&&e!=="uint8"&&e!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+i));l.reverse();const c=new Ee[e](l.buffer);return this.offset+=i,c.reverse(),c}const s=new Ee[e](r);return this.offset+=i,s}readInt16(){const n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){const n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){const n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){const n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){const n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){const n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){const n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){const n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let e="";for(let i=0;i<n;i++)e+=this.readChar();return e}readUtf8(n=1){return Bn(this.readBytes(n))}decodeText(n=1,e="utf-8"){return Bn(this.readBytes(n),e)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let e=0;e<n.length;e++)this._data.setUint8(this.offset++,n[e]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let e=0;e<n.length;e++)this.writeUint8(n.charCodeAt(e));return this}writeUtf8(n){return this.writeBytes(mo(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}const ko=[137,80,78,71,13,10,26,10],ki=[];for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)n&1?n=3988292384^n>>>1:n=n>>>1;ki[t]=n}const Cn=4294967295;function Ao(t,n,e){let i=t;for(let a=0;a<e;a++)i=ki[(i^n[a])&255]^i>>>8;return i}function To(t,n){return(Ao(Cn,t,n)^Cn)>>>0}var q;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(q||(q={}));var Ne;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"})(Ne||(Ne={}));var Ie;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"})(Ie||(Ie={}));var ze;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"})(ze||(ze={}));const So=new Uint16Array([255]),Ro=new Uint8Array(So.buffer);Ro[0];const Do={level:3};class Uo extends ne{constructor(n,e={}){super(),this._colorType=q.UNKNOWN,this._zlibOptions={...Do,...e.zlib},this._png=this._checkData(n),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(ko)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(Ne.DEFLATE),this.writeByte(Ie.ADAPTIVE),this.writeByte(ze.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(n){this.writeUint32(n.length),this.writeChars("IDAT"),this.writeBytes(n),this.writeCrc(n.length+4)}encodeData(){const{width:n,height:e,channels:i,depth:a,data:r}=this._png,s=i*n,l=new ne().setBigEndian();let c=0;for(let w=0;w<e;w++)if(l.writeByte(0),a===8)c=No(r,l,s,c);else if(a===16)c=Io(r,l,s,c);else throw new Error("unreachable");const o=l.toArray(),f=vi(o,this._zlibOptions);this.encodeIDAT(f)}_checkData(n){const{colorType:e,channels:i,depth:a}=Lo(n),r={width:Zn(n.width,"width"),height:Zn(n.height,"height"),channels:i,data:n.data,depth:a,text:{}};this._colorType=e;const s=r.width*r.height*i;if(r.data.length!==s)throw new RangeError(`wrong data size. Found ${r.data.length}, expected ${s}`);return r}writeCrc(n){this.writeUint32(To(new Uint8Array(this.buffer,this.byteOffset+this.offset-n,n),n))}}function Zn(t,n){if(Number.isInteger(t)&&t>0)return t;throw new TypeError(`${n} must be a positive integer`)}function Lo(t){const{channels:n=4,depth:e=8}=t;if(n!==4&&n!==3&&n!==2&&n!==1)throw new RangeError(`unsupported number of channels: ${n}`);if(e!==8&&e!==16)throw new RangeError(`unsupported bit depth: ${e}`);const i={channels:n,depth:e,colorType:q.UNKNOWN};switch(n){case 4:i.colorType=q.TRUECOLOUR_ALPHA;break;case 3:i.colorType=q.TRUECOLOUR;break;case 1:i.colorType=q.GREYSCALE;break;case 2:i.colorType=q.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return i}function No(t,n,e,i){for(let a=0;a<e;a++)n.writeByte(t[i++]);return i}function Io(t,n,e,i){for(let a=0;a<e;a++)n.writeUint16(t[i++]);return i}var Fn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Fn||(Fn={}));function zo(t,n){return new Uo(t,n).encode()}function Oo(){const t=new Int32Array(4096);for(let y=0;y<256;++y){let u=y,_=9;for(;--_;)u=(u&1&&-306674912)^u>>>1;t[y]=u}for(let y=0;y<256;++y){let u=t[y];for(let _=256;_<4096;_+=256)u=t[y|_]=u>>>8^t[u&255]}const n=[];for(let y=0;y<16;)n[y]=t.subarray(y<<8,++y<<8);const[e,i,a,r,s,l,c,o,f,w,d,h,b,v,E,x]=n;return function(u,_=-1){let p=0;const D=u.length,g=D-16;for(;p<g;)_=x[u[p++]^_&255]^E[u[p++]^_>>8&255]^v[u[p++]^_>>16&255]^b[u[p++]^_>>>24]^h[u[p++]]^d[u[p++]]^w[u[p++]]^f[u[p++]]^o[u[p++]]^c[u[p++]]^l[u[p++]]^s[u[p++]]^r[u[p++]]^a[u[p++]]^i[u[p++]]^e[u[p++]];for(;p<D;++p)_=e[_&255^u[p]]^_>>>8;return~_}}const Ai=(()=>{let t=!1,n;return function(i,a=-1){return t||(n=Oo(),t=!0),n(i,a)}})(),Dt=new Uint8Array([137,80,78,71,13,10,26,10]),Q=Object.freeze({None:0,Sub:1,Up:2,Average:3,Paeth:4}),F=Object.freeze({GRAYSCALE:1,RGB:2,INDEXED:3,GRAYSCALE_ALPHA:4,RGBA:6}),it=Object.freeze({IHDR:1229472850,PLTE:1347179589,IDAT:1229209940,IEND:1229278788,cHRM:1665684045,gAMA:1732332865,iCCP:1766015824,sBIT:1933723988,sRGB:1934772034,bKGD:1649100612,hIST:1749635924,tRNS:1951551059,pHYs:1883789683,sPLT:1934642260,tIME:1950960965,iTXt:1767135348,tEXt:1950701684,zTXt:2052348020});function Bo(t){let n=0;for(let i of t)n+=i.length;const e=new Uint8Array(n);for(let i=0,a=0;i<t.length;i++){let r=t[i];e.set(r,a),a+=r.length}return e}function $n(t,n,e,i,a,r,s,l){if(i===Q.Paeth)for(let c=0;c<r;c++){const o=c<a?0:n[s+c-a],f=e===0?0:n[s+c-r],w=e===0||c<a?0:n[s+c-r-a];t[l+c]=n[s+c]-Co(o,f,w)}else if(i===Q.Sub)for(let c=0;c<r;c++){const o=c<a?0:n[s+c-a];t[l+c]=n[s+c]-o}else if(i===Q.Up)for(let c=0;c<r;c++){const o=e===0?0:n[s+c-r];t[l+c]=n[s+c]-o}else if(i===Q.Average)for(let c=0;c<r;c++){const o=c<a?0:n[s+c-a],f=e===0?0:n[s+c-r],w=o+f>>1;t[l+c]=n[s+c]-w}}function Co(t,n,e){let i=t+n-e,a=Math.abs(i-t),r=Math.abs(i-n),s=Math.abs(i-e);return a<=r&&a<=s?t:r<=s?n:e}function Ti(t){switch(t){case F.GRAYSCALE:return 1;case F.RGB:return 3;case F.INDEXED:return 1;case F.GRAYSCALE_ALPHA:return 2;case F.RGBA:return 4;default:throw new Error(`Invalid colorType ${t}`)}}function Zo(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Fo(t){const n=new Uint8Array(13),e=new DataView(n.buffer);let i=0;return e.setUint32(i,t.width),i+=4,e.setUint32(i,t.height),i+=4,e.setUint8(i++,t.depth??8),e.setUint8(i++,t.colorType??F.RGBA),e.setUint8(i++,0),e.setUint8(i++,0),e.setUint8(i++,t.interlace||0),n}function $o({x:t,y:n,unit:e=1}={}){const i=new Uint8Array(9),a=new DataView(i.buffer);return a.setUint32(0,t),a.setUint32(4,n),a.setUint8(8,e),i}function Si(t){const n=Math.round(39.37007874015748*t);return $o({x:n,y:n,unit:1})}function Mo(t,n={}){const e=n.width,i=n.height,a=n.depth??8,r=n.colorType??F.RGBA,s=n.filter??Q.Paeth,l=n.firstFilter??s,c=Ti(r);if(a!==8&&a!==16)throw new Error(`Unsupported bit depth ${a}`);const o=a/8*c,f=e*o,w=e*c,d=t.byteLength/f;if(d%1!==0)throw new Error("Bytes are not padded to channels and scanlines");if(d>i)throw new Error("Expected scanline count to be less than total image height");if(s<0||s>4)throw new Error(`filter type ${s} unsupported`);const h=d*f,b=new Uint8Array(h+d);if(a===16){const v=new Uint8Array(f*2),E=new DataView(v.buffer,v.byteOffset,v.byteLength);for(let x=0;x<d;x++){const y=x*w;x>0&&v.copyWithin(0,f);for(let g=0;g<w;g++){const R=t[y+g];E.setUint16(f+g*2,R)}const u=x*(f+1),_=u+1,p=f,D=x===0?l:s;D==Q.None?b.set(v.subarray(f),_):(b[u]=D,$n(b,v,x,D,o,f,p,_))}}else for(let v=0;v<d;v++){const E=v*(f+1),x=E+1,y=v*f,u=v===0?l:s;u==Q.None?b.set(t.subarray(y,y+f),x):(b[E]=u,$n(b,t,v,u,o,f,y,x))}return b}function Ho(t={},n,e){const{data:i,ancillary:a=[],colorType:r=F.RGBA}=t;if(!i)throw new Error("must specify { data }");if(!n)throw new Error("must specify a deflate function");if(r!==F.RGB&&r!==F.RGBA)throw new Error("only RGB or RGBA colorType encoding is currently supported");return Ri([{type:it.IHDR,data:Fo(t)},...a,{type:it.IDAT,data:n(Mo(i,t),e)},{type:it.IEND}])}function Ri(t){let n=Dt.length,e=n;for(let r of t)n+=r.data?r.data.length:0,n+=12;const i=new Uint8Array(n),a=new DataView(i.buffer);i.set(Dt,0);for(let r of t)e=Po(i,a,r,e);return i}function Po(t,n,e,i=0){const a=e.data?e.data.length:0;n.setUint32(i,a),i+=4;const r=i,s=i+4,l=s+a,c=e.type;n.setUint32(r,c),e.data&&t.set(e.data,s);const o=t.subarray(r,l),f=Ai(o);return n.setInt32(l,f),l+4}function Go(t,n={}){const e=[];return Wo(t,n,(i,a)=>e.push({type:i,data:a})),e}function Wo(t,n={},e=()=>{}){if(!ArrayBuffer.isView(t))throw new Error("Expected a typed array such as Uint8Array");typeof n=="function"&&(e=n,n={});const i=new DataView(t.buffer,t.byteOffset,t.byteLength),a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);if(a.length<Dt.length)throw new Error("Buffer too small to contain PNG header");const{checkCRC:r=!1,copy:s=!0}=n;for(let f=0;f<Dt.length;f++)if(a[f]!==Dt[f])throw new Error("Invalid PNG file header");let l=!1,c=!1,o=8;for(;o<a.length;){const f=i.getUint32(o);o+=4;const w=i.getUint32(o);if(!c){if(w!==it.IHDR)throw new Error("Invalid PNG: IHDR missing");c=!0}const d=o+4;if(r){const b=a.subarray(o,d+f),v=i.getInt32(d+f);if(Ai(b)!==v)throw new Error(`CRC value for ${Zo(w)} does not match, PNG file may be corrupted`)}if(e(w,s?a.slice(d,d+f):a.subarray(d,d+f))===!1||w===it.IEND){l=!0;break}o=d+f+4}if(!l)throw new Error("PNG ended without IEND chunk")}let z;function Yo(t,n={}){return new Promise(e=>{const i=n.filename||Ko();z||(z=document.createElement("a"),z.style.visibility="hidden",z.target="_blank"),z.download=i,z.href=window.URL.createObjectURL(t),document.body.appendChild(z),z.onclick=()=>{z.onclick=()=>{},setTimeout(()=>{window.URL.revokeObjectURL(t),z.parentElement&&z.parentElement.removeChild(z),z.removeAttribute("href"),e({filename:i})})},z.click()})}function Ko(){const t=new Date,n=t.getFullYear();let[e,i,a,r,s]=[t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].map(l=>String(l).padStart(2,"0"));return`${n}.${e}.${i}-${a}.${r}.${s}`}async function jo(t,n={}){let e;typeof t.convertToBlob=="function"?e=await t.convertToBlob(n):e=await new Promise(r=>t.toBlob(r,n.type,n.quality));const i=await e.arrayBuffer();return new Uint8Array(i)}const Xo=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Vo=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],qo=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Jo=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Mn=(t,n,e)=>{let i=t;return typeof n=="string"||Array.isArray(n)?i=t.toLocaleString(n,e):(n===!0||e!==void 0)&&(i=t.toLocaleString(void 0,e)),i};function Qo(t,n){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);n={bits:!1,binary:!1,space:!0,...n};const e=n.bits?n.binary?Jo:qo:n.binary?Vo:Xo,i=n.space?" ":"";if(n.signed&&t===0)return` 0${i}${e[0]}`;const a=t<0,r=a?"-":n.signed?"+":"";a&&(t=-t);let s;if(n.minimumFractionDigits!==void 0&&(s={minimumFractionDigits:n.minimumFractionDigits}),n.maximumFractionDigits!==void 0&&(s={maximumFractionDigits:n.maximumFractionDigits,...s}),t<1){const f=Mn(t,n.locale,s);return r+f+i+e[0]}const l=Math.min(Math.floor(n.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),e.length-1);t/=(n.binary?1024:1e3)**l,s||(t=t.toPrecision(3));const c=Mn(Number(t),n.locale,s),o=e[l];return r+c+i+o}const Pe={dimensions:"A0",pixelsPerInch:150,units:"cm",depth:16,colorType:F.RGBA,filter:Q.Paeth},{canvasWidth:j,canvasHeight:X}=Gi({...Pe}),tl=t=>Object.entries(F).find(e=>e[1]===t)[0],{depth:ct,colorType:le,pixelsPerInch:Ft,filter:Di}=Pe,Ut=Ti(le),ie=document.querySelector(".status"),Et=document.querySelector(".cancel"),Ge=document.querySelector(".download"),Ui=document.querySelector(".image");let $t;Ge.onclick=t=>{t.preventDefault(),$t&&Yo($t,{filename:"download.png"})};const Li=t=>{let n;t==="worker"?n="Use a WebWorker to encode off the main thread.":t==="file"?n="Use WebWorker + File System API to stream encode directly into a file on disk (Chrome only).":t==="canvas"?n="Use Canvas2D toBlob() to encode a PNG, which only supports 8 bits per pixel.":t==="cpu"?n="Use the main thread (no worker) to encode, which is simpler but halts the UI, does not report progress, and cannot be cancelled.":t==="fast-png"&&(n="Use the fast-png module to encode, for benchmark comparison."),ie.textContent=n},Ni=document.querySelector("select");Ni.oninput=t=>{Li(t.currentTarget.value),$t=null,Ui.src="",Ge.setAttribute("disabled",!0)};Li(Ni.value);document.querySelector(".info").textContent=JSON.stringify({...Pe,colorType:tl(le),depth:ct,width:j,height:X},null,2);async function el(t,n){let e=[];return await Ii(t,i=>e.push(i),n),Bo(e)}async function Ii(t,n,e){const i={width:j,height:X,depth:ct,colorType:le,data:t,pixelsPerInch:Ft,filter:Di};return new Promise(a=>{const r=new Worker(new URL("/demo/assets/worker-Cs3gA_uN.js",import.meta.url),{type:"module"}),s=()=>{r.terminate(),a()};e&&e.addEventListener("abort",s),r.postMessage(i,[t.buffer]);const l=async c=>{const o=c.data;ie.textContent=`Progress: ${Math.round(o.progress*100)}%`,n(o.chunk),o.finished&&(r.removeEventListener("message",l),e&&e.removeEventListener("abort",s),s())};r.addEventListener("message",l)})}function nl(t){const n=[];return Ft&&n.push({type:it.pHYs,data:Si(Ft)}),Ho({width:j,height:X,data:t,depth:ct,colorType:le,ancillary:n,filter:Di},vi,{level:3})}async function il(t){const n=ol(t);let e=await jo(n);if(Ft){let i=Go(e);i=i.filter(a=>a.type!==it.pHYs),i.splice(1,0,{type:it.pHYs,data:Si(Ft)}),e=Ri(i)}return e}async function al(t={}){if(!window.showSaveFilePicker)throw new Error("Not supported on this browser");const{filename:n="download.png"}=t;return(await window.showSaveFilePicker({excludeAcceptAllOption:!0,id:"benchmark",startIn:"downloads",suggestedName:n,types:[{description:"PNG Image",accept:{"image/png":[".png"]}}]})).createWritable()}async function rl(t,n,e){let i=Promise.resolve();await Ii(t,r=>{i=i.then(()=>n.write(r))},e),await i,await n.close()}function ol(t){const n=new Uint8ClampedArray(j*X*4);if(ct===8&&Ut===4)n.set(t);else{const s=ct===16?65535:255;for(let l=0;l<j*X;l++)for(let c=0;c<4;c++)if(c<Ut){let o=t[l*Ut+c];o=Math.round(o/s*255),o=Math.max(0,Math.min(255,o)),n[l*4+c]=o}else n[l*4+c]=255}const e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:!0});e.width=j,e.height=X;const a=i.createImageData(j,X);return a.data.set(n),i.putImageData(a,0,0),e}async function ll(t){const n=document.querySelector("select").value;let e;const i=new AbortController,a=i.signal;let r=!1;const s=()=>{r=!0},l=()=>{i.abort()};a.addEventListener("abort",s,{once:!0}),Et.addEventListener("click",l,{once:!0});let c;n==="file"&&(c=await al()),n==="file"||n==="worker"?Et.removeAttribute("disabled"):Et.setAttribute("disabled",!0);const o=performance.now();n==="cpu"?e=nl(t):n==="canvas"?e=await il(t):n==="worker"?e=await el(t,a):n==="file"?await rl(t,c,a):n==="fast-png"&&(e=zo({data:t,width:j,height:X,channels:Ut,depth:ct}));const f=performance.now();if(a.removeEventListener("abort",s),Et.removeEventListener("click",l),Et.setAttribute("disabled",!0),r)console.log("Cancelled"),ie.textContent="Cancelled";else{const w=Math.round(f-o),d=e?` (Bytes: ${Qo(e.byteLength)})`:"",h=`Time: ${w} ms`+d;console.log(h),ie.textContent=h,e&&($t=new Blob([e],{type:"image/png"}),Ge.removeAttribute("disabled"),Ui.src=URL.createObjectURL($t))}}const zi=new Worker(new URL("/demo/assets/generate-D99VbjkE.js",import.meta.url),{type:"module"});zi.postMessage({width:j,height:X,channels:Ut,depth:ct});zi.addEventListener("message",t=>{const n=document.querySelector(".encode");n.textContent="Encode PNG",n.removeAttribute("disabled"),n.onclick=async()=>{n.setAttribute("disabled",!0),await new Promise(e=>setTimeout(e,10));try{console.log("encoding"),await ll(t.data.slice())}catch(e){e.name!="AbortError"&&(console.error(e),alert(e.message))}n.removeAttribute("disabled")}});
